# SonarQube Configuration for WebSSH2

# Project Information
sonar.projectKey=webssh2
sonar.projectName=WebSSH2
sonar.projectVersion=1.0

# Source and Test Configuration
sonar.sources=app,index.ts,scripts
sonar.tests=tests
sonar.test.inclusions=tests/**/*.test.ts,tests/**/*.test.js,tests/**/*.vitest.ts,tests/**/*.spec.ts,tests/**/*.spec.js

# TypeScript/JavaScript Configuration
sonar.typescript.file.suffixes=.ts,.tsx
sonar.javascript.file.suffixes=.js,.jsx,.mjs,.cjs

# Coverage and Analysis
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.testExecutionReportPaths=coverage/test-reporter.xml

# Exclusions
sonar.exclusions=node_modules/**,coverage/**,client/public/**,*.md,*.json,tests/servers/**,dist/**,**/*.d.ts,**/*.mjs,.tsbuildinfo

# Test-specific rule exclusions
# S2068: Hard-coded credentials (acceptable in test files)
# S4036: Searching OS commands in PATH (needed for test infrastructure)
sonar.issue.ignore.multicriteria=e1,e2,e3,e4
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S2068
sonar.issue.ignore.multicriteria.e1.resourceKey=tests/**/*
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S4036
sonar.issue.ignore.multicriteria.e2.resourceKey=tests/**/*
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S4036
sonar.issue.ignore.multicriteria.e3.resourceKey=scripts/**/*
sonar.issue.ignore.multicriteria.e4.ruleKey=javascript:S2068
sonar.issue.ignore.multicriteria.e4.resourceKey=tests/**/*

# Language Configuration
sonar.sourceEncoding=UTF-8

# Optional: Specify Node.js executable if needed
# sonar.nodejs.executable=/usr/local/bin/node

# Optional: Increase max file size if needed (default 1000KB)
# sonar.javascript.maxFileSize=2000